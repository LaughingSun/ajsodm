!function(){function n(r,i,o){var a,s,f,u=!(this instanceof n),c=u?r instanceof Array?r:[]:this,l=arguments.length-1,o=l&&arguments[l]instanceof Object?arguments[l--]:{};return a=o.parser instanceof Function&&o.parser,s=o.stringifier instanceof Function?o.stringifier:t,f=o.constraint instanceof Object?o.constraint:null,Object.defineProperty(c,"name",{name:{value:l&&"string"==typeof arguments[l]&&arguments[l--]||o.name||"unnamed-"+new Buffer(++m+"").toString("hex"),enumerable:!1,configurable:!0,writable:!0}}),b.extend(c,{parse:function(n,r){return e.call(JSON.parse(n,r||a),this)},stringify:function(n){return JSON.stringify(this,n||s)}},!1),u&&b.extend(c,y,!0),r&&r!==c&&("string"==typeof r&&(r=JSON.parse(r,a)),e.call(r,c)),c}function r(){return this}function t(r,t){return t instanceof n?t.slice():t}function i(r){return r||(r=this),new n(r.stringify(),r.name)}function e(n){var r,t;r=(n||(n=[])).length;for(var i in this)(t=this[i])&&(n[r++]=t);return n}function o(n){var r,t,i,e;r=(n||(n=[])).length;for(var o in this)if(i=this[o]){n[r++]=e={};for(t in i)e[t]=i[t]}return n}function a(n){var r,t,i,e;r=(n||(n=[])).length;for(var o in this)if(i=this[o]){n[r++]=e={};for(t in i)e[t]=i[t]}return n}function s(n,r){var t,i,e=[],o=0;r instanceof Function||(r=function(n){return n});for(var a in this)(i=r(t=this[a]))&&(e[o++]=i);return e}function f(n){var r,t,i,e=[],o=0;for(var a in this)if(i=this[a]){r=!1;for(t in n)if(r=i[t]!==n[t])break;r||(e[o++]=i)}return e.length?e:null}function u(n){var r,t,i,e,o=new p(this),a=o.index;for(t in this)if(!isNaN(t)&&(e=this[t])){r=!1;for(i in n)if(r=e[i]!==n[i])break;r||(a[o.push(e)-1]=t)}return o.length?o:null}function c(n,r,t){var i,e,o,a=[],s=0;if(t||(t=this),r instanceof Object){for(var f in this)if((o=this[f])&&o instanceof Array){i=!0;for(e in r)if(i=o[e]!==r[e])break;i||null==(i=n.call(t,o,s))||(a[s++]=i)}}else for(var f in this)(o=this[f])&&o instanceof Array&&null!=(i=n.call(t,o,s))&&(a[s++]=i);return a}function l(r,t){var i,e,o,a,s=(t||(t=this instanceof n?new n:[])).length;if(isNaN(s))throw new Error("cannot move to destination that is not array-like");for(e in this)if(a=this[e]){for(o in r)if(i=a[o]!==r[o])break;i||(t[s++]=a,this[e]=null)}return t}function h(n,r){var t,i,e,o,a;if(r){if(!(r instanceof p&&rst.source===this))throw new Error("cannot move to non ResultSet or ResultSet from different Table")}else r=new p(this);e=r.length;for(i in this)if(a=this[i]){for(o in n)if(t=a[o]!==n[o])break;t||(r[e++]=a,this[i]=null)}return r;var e,t,i,o,a}function v(n){var r,t,i,e,o=0;for(t in this)if(e=this[t]){for(i in n)if(r=e[i]!==n[i])break;r||(o++,this[t]=null)}return o}function g(n,r,t){var i,e,o,a,s,f,u;if(t instanceof Function?(n=t,t=this):t||(t=this),i=new p(t),u=i.index,a=0,r instanceof Object){for(o in t)if(!isNaN(o)&&(f=t[o])){e=!0;for(s in r)if(e=f[s]!==r[s])break;e||null==(e=n.call(t,f,o))||(i[a]=e,u[a++]=o)}}else for(var c in this)(f=this[c])&&f instanceof Array&&null!=(e=n.call(t,f,o))&&(i[o++]=e);return i}function p(n){if(!(this instanceof p))throw new Error("constructor called as function");if(!(n instanceof Array))throw new Error("Table or Array expected (first argument)");this.source=n,this.index=[]}var b=require("./plugin-manager.js"),m=(require("./constrainer.js"),b.prepareConf,b.prepareInstance,0|Date.now()),y={toArray:Array.prototype.slice,toString:function(){return"[table Table]"},deref:i,clone:e,copy:o,deepCopy:a,extract:s,find:f,findForEach:c,findRS:u,findForEachRS:g,remove:l,removeRS:h,move:l,drop:v,constrain:r};module.exports=n,Object.defineProperty(n,"ResultSet",{value:p,enumerable:!0}),b.inherits(n,Array,y,!0),b.inherits(p,Array,{})}();